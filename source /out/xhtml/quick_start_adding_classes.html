<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Adding Classes to Agent Nodes"/>
<meta name="abstract" content="In this guide you'll use the puppetlabs-apache module to launch the default Apache virtual host."/>
<meta name="description" content="In this guide you'll use the puppetlabs-apache module to launch the default Apache virtual host."/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="task_evb_nvg_rq"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Adding Classes to Agent Nodes</title>
</head>
<body>

<div class="nested0" id="task_evb_nvg_rq">
    <h1 class="title topictitle1">Adding Classes to Agent Nodes</h1>

    
    <div class="body taskbody"><p class="shortdesc"> In this guide you'll use the puppetlabs-apache module to launch the default Apache
        virtual host.</p>

        <div class="section prereq p"><strong class="ph b">Prerequisites</strong>: This guide assumes you've already <a class="xref" href="quick_start_install_mono.html" title="To get you started using Puppet Enterprise (PE) relatively quickly and efficiently, this guide walks you through the steps of a monolithic install. A monolithic deployment is best suited for users who want to evaluate PE, or for users managing a small number of puppet agent nodes (up to 500 nodes). For larger installations, youâ€™ll need to perform a split install.">installed a monolithic PE deployment</a>,
            installed at least one <a class="xref" href="quick_start_nix_install_supertask.html#task_snk_w45_4q" title="The following instructions are for installing Puppet agents on nodes running *nix operating systems.">*nix agent node</a>,  and installed the <a class="xref" href="quick_start_module_install.html" title="In this guide, you'll install the puppetlabs-apache module, a Puppet Enterprise supported module. Modules contain [classes](../puppet/3/reference/lang_classes.html), which are named chunks of puppet code and are the primary means by which Puppet Enterprise configures and manages nodes. While you can use any module available on the Forge, PE customers can take advantage of [supported modules](http://forge.puppetlabs.com/supported); these modules--designed to make common services easier--are tested, and maintained by Puppet Labs. In the [Module Writing Basics for Linux QSG](./quick_writing_nix.html) you'll learn more about modules, including customizing and writing your own modules on either [Windows](./quick_writing_windows.html) or [*nix](./quick_writing_nix.html) platforms.">puppetlabs-apache
            module</a>[puppetlabs-apache module](./quick_start_module_install_nix.html).</div>

        <div class="section context">Every module contains one or more <strong class="ph b">classes</strong>classes. <a class="xref" href="https://docs.puppetlabs.com/puppet/latest/reference/lang_classes.html" target="_blank">Classes</a> are named chunks of Puppet code and
            are the primary means by which Puppet Enterprise configures nodes. The puppetlabs-apache
            module you installed contains a class called <samp class="ph codeph">apache</samp>. In this example,
            you'll use the <samp class="ph codeph">apache</samp> class to launch the default Apache virtual host.
            You'll create a group called<strong class="ph b">apache example</strong> and add the <samp class="ph codeph">apache</samp>
            class to it.</div>

    </div>

    <div class="topic task nested1" id="task_asl_5qg_vq">
    <h2 class="title topictitle2">Create Apache Example Group</h2>

    
    <div class="body taskbody"><p class="shortdesc">In this procedure, you'll create the <strong class="ph b">apache_example</strong> group to later add the
            <samp class="ph codeph">apache</samp> class to it. </p>

        <ol class="ol steps"><li class="li step">
                <span class="ph cmd">From the console, click <span class="ph uicontrol">Classification</span> in the navigation
                    bar. </span>
            </li>
<li class="li step">
                <span class="ph cmd">In the <span class="ph uicontrol">Node group name</span> field, name your group (e.g.,
                        <strong class="ph b">apache_example</strong>.</span>
            </li>
<li class="li step">
                <span class="ph cmd">Click <span class="ph uicontrol">Add group</span>.</span>
            </li>
<li class="li step">
                <span class="ph cmd">Click the <strong class="ph b">apache_example</strong> group. </span>
            </li>
<li class="li step">
                <span class="ph cmd">From the <span class="ph uicontrol">Rules</span> tab, in the
                        <span class="ph uicontrol">Certname</span> area, in the <span class="ph uicontrol">Node
                        name</span> field, enter the name of the PE-managed node you'd like to
                    add to this group.</span>
            </li>
<li class="li step">
                <span class="ph cmd">Click <span class="ph uicontrol">Pin node</span>.</span>
            </li>
<li class="li step">
                <span class="ph cmd">Click <span class="ph uicontrol">Commit 1 change</span>.<br/><div class="imageleft"><img class="image imageleft" id="task_asl_5qg_vq__d15e94" src="images/apache_add_group.png" height="366" width="623"/></div><br/></span>
            </li>
<li class="li step">
                <span class="ph cmd">Repeat steps 5 - 7 for any additional nodes you want to add.</span>
            </li>
</ol>

    </div>

</div>

    <div class="topic task nested1" id="task_dtw_3rg_vq">
    <h2 class="title topictitle2">Adding Apache Class to Example Group</h2>

    
    <div class="body taskbody"><p class="shortdesc">In this procedure, you'll add the <samp class="ph codeph">apache</samp> class to the
            <strong class="ph b">apache_example</strong> group you created in the previous task.</p>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">Click the <span class="ph uicontrol">Classes</span> tab. </span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">In the <span class="ph uicontrol">Class name</span> field, begin typing "apache," and
                    select it from the autocomplete list. </span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click <span class="ph uicontrol">Add class</span> and then click <span class="ph uicontrol">Commit 1
                        change</span>.</span>
                <div class="itemgroup stepresult">The <samp class="ph codeph">apache</samp> class now appears in the list of classes for
                    your agent node. You can see this list by clicking <span class="ph uicontrol">Nodes</span>
                    and then clicking your node in the <span class="ph uicontrol">Nodes</span> list. A page
                    opens with your node's details.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">From your agent node, navigate to <samp class="ph codeph">/var/www/html</samp>, and create a
                    file named <samp class="ph codeph">index.html</samp>. </span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Open <samp class="ph codeph">index.html</samp> with the text editor of your choice and fill
                    it with some content (e.g., "Hello World"). </span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">From the console, navigate to the <span class="ph uicontrol">Live Management</span> page,
                    and select the <span class="ph uicontrol">Control Puppet</span>.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click <span class="ph uicontrol">runonce</span> and then <span class="ph uicontrol">Run</span>. This
                    will configure the node using the newly-assigned class. Wait one or two
                    minutes.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Open a browser and enter the IP address for the agent node, adding port 80 on
                    the end (e.g., <samp class="ph codeph">www.myagentnodeIP:80</samp>).</span>
                <div class="itemgroup stepresult"/>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">You will see the contents of <samp class="ph codeph">/var/www/html/index.html</samp>
                    displayed.</span>
            </li>
</ol>

        <div class="section result"><strong class="ph b">Result</strong>: Puppet Enterprise is now managing the default Apache vhost on your
            agent node. At this point, you can check out the Apache "ReadMe" on the Forge to explore
            options for managing your Apache instances as needed. The <a class="xref" href="https://docs.puppetlabs.com/pe/latest/quick_writing_nix.html" target="_blank">*Nix module writing QSG</a>  (./quick_writing_nix.html) discusses
            how to write your own class that manages a web app running on an Apache virtual
            host.</div>

    </div>

</div>

    <div class="topic task nested1" id="task_sbw_jrg_vq">
    <h2 class="title topictitle2">Editing Class Parameters in the PE console</h2>

    
    <div class="body taskbody"><p class="shortdesc"> You can use the PE console to set or edit the values of a class' parameters without
        needing to edit the module's code directly.  In this procedure, you will use the PE conosle
        to edit parameters on the <samp class="ph codeph">apache</samp> class. </p>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">From the console, click <span class="ph uicontrol">Classification</span> in the navigation
                    bar.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">From the <span class="ph uicontrol">Classification page</span>, click the
                        <strong class="ph b">apache_example</strong> group.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click the <span class="ph uicontrol">Classes</span> tab, and find <samp class="ph codeph">apache</samp>
                    in the list of classes. </span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">From the <span class="ph uicontrol">Parameter name</span> drop-down list, choose the
                    parameter you'd like to edit. (For this example, we will use
                        <samp class="ph codeph">docroot</samp>. </span>
                <div class="itemgroup info"><strong class="ph b">Note</strong>: The grey text that appears as values for some parameters is the
                    default value, which can be either a literal value or a Puppet variable. You can
                    restore this value by selecting <span class="ph uicontrol">Discard Changes</span> after you
                    have added the parameter.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">In the <span class="ph uicontrol">Value</span> field, enter
                    <samp class="ph codeph">/var/www/</samp>.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click <span class="ph uicontrol">Add parameter</span>. </span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click <span class="ph uicontrol">Commit 1 change</span>. </span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Navigate to the <strong class="ph b">Live Management</strong> page, and select the <span class="ph uicontrol">Control
                        Puppet</span> tab. </span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click <span class="ph uicontrol">runonce</span> and then <span class="ph uicontrol">Run</span> to
                    trigger a Puppet run to have PE create the new configuration.</span>
            </li>
</ol>

    </div>

</div>

</div>

</body>
</html>