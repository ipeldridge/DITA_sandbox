<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Node Classification and RBAC Quick Start Guide"/>
<meta name="abstract" content="In this guide, you'll create a new node group, apply rules to the group to define the nodes it will include, and add classes to the group. You'll also create a new user role and give the role view permissions on your node group. Finally, you’ll create a new local user, and assign a user role to that user."/>
<meta name="description" content="In this guide, you'll create a new node group, apply rules to the group to define the nodes it will include, and add classes to the group. You'll also create a new user role and give the role view permissions on your node group. Finally, you’ll create a new local user, and assign a user role to that user."/>
<meta name="DC.Relation" scheme="URI" content="../quick_start_supertask.html"/>
<meta name="DC.Relation" scheme="URI" content="../quick_start_sign_cert.html"/>
<meta name="DC.Relation" scheme="URI" content="../quick_start_module_install.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="task_vlf_mlh_rq"/>
<link rel="stylesheet" type="text/css" href="../commonltr.css"/>
<title>Node Classification and RBAC Quick Start Guide</title>
</head>
<body id="task_vlf_mlh_rq">


    <h1 class="title topictitle1">Node Classification and RBAC Quick Start Guide</h1>

    
    <div class="body taskbody"><p class="shortdesc">In this guide, you'll create a new node group, apply rules to the group to define the
        nodes it will include, and add classes to the group. You'll also create a new user role and
        give the role view permissions on your node group. Finally, you’ll create a new local user,
        and assign a user role to that user. </p>

        <div class="section prereq p"><strong class="ph b">Prerequisites</strong>: This guide assumes you've already [installed a monolithic PE
            deployment](./quick_start_install_mono.html), and have installed at least one [*nix
            agent node](./quick_start_install_agents_nix.html) or one [Windows
                node](./quick_start_install_agents_windows.html).<p class="p">It also assumes you’ve installed
                a [*nix](./quick_start_module_install_nix.html) or
                [Windows](./quick_start_module_install_windows.html) module. Finally, you must have
                admin permissions to complete these steps, which include assigning a user to a
                role.</p>
</div>

        <div class="section context">
            <p class="p">The Puppet Enterprise (PE) console enables you to manage nodes groups and users. You
                can create node groups and then assign classes to nodes through those node groups.
                You can connect with an external directory, such as Active Directory or OpenLDAP,
                and import users and groups, rather than creating users and groups in two locations.
                You can also create user roles, and assign users to those roles. Roles are granted
                permissions, such as permission to act on node groups. When you assign roles to
                users or user groups, you are essentially granting users permissions in a more
                organized way.</p>

            <p class="p">This guide doesn't attempt to connect with an OpenLDAP or Active Directory. For more
                information, see [Working with Role-Based Access Control](./rbac_intro.html).</p>

            <div class="note note"><span class="notetitle">Note:</span> Users and user groups are not currently deletable. And roles aren’t deletable via
                the console, only by API. Therefore, we recommend that you try out these steps on a
                virtual machine.</div>

        </div>

    </div>

    <div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../quick_start_supertask.html" title="Welcome to the Puppet Enterprise Quick Start Guide. Whether you’re setting up a PE installation for actual deployment or want to learn some fundamentals of configuration management with Puppet Enterprise, this series of guides provides the steps you need to get up and running relatively quickly. We’ll walk you through the setup of a monolithic (all-in-one node) installation and show you how to automate some basic tasks that sysadmins regularly perform.">Puppet Enterprise Quick Start Guide</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../quick_start_sign_cert.html">Approving the Certificate Request</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../quick_start_module_install.html" title="In this guide, you'll install the puppetlabs-apache module, a Puppet Enterprise supported module. Modules contain [classes](../puppet/3/reference/lang_classes.html), which are named chunks of puppet code and are the primary means by which Puppet Enterprise configures and manages nodes. While you can use any module available on the Forge, PE customers can take advantage of [supported modules](http://forge.puppetlabs.com/supported); these modules--designed to make common services easier--are tested, and maintained by Puppet Labs. In the [Module Writing Basics for Linux QSG](./quick_writing_nix.html) you'll learn more about modules, including customizing and writing your own modules on either [Windows](./quick_writing_windows.html) or [*nix](./quick_writing_nix.html) platforms.">Module Installation Quick Start Guide</a></div>
</div>
</div>
<div class="topic task nested1" id="task_ey1_lmh_rq">
        <h2 class="title topictitle2">Create a New Node Group</h2>

        <div class="body taskbody">
            <ol class="ol steps" id="task_ey1_lmh_rq__steps_lqh_wmh_rq"><li class="li step">
                    <span class="ph cmd">In the PE console, click **Classification**.</span>
                </li>
<li class="li step">
                    <span class="ph cmd">In the **Node group name** field, type "web_app_servers".</span>
                </li>
<li class="li step">
                    <span class="ph cmd">Leave **default** as the parent to the new node group, and **production**
                        as the environment.</span>
                </li>
<li class="li step">
                    <span class="ph cmd">Click **Add Group**. The **web_app_servers** group is added to the list of
                        node groups.</span>
                </li>
</ol>

        </div>

    </div>

    <div class="topic task nested1" id="task_vpk_mmh_rq">
        <h2 class="title topictitle2">Add Nodes to the New Node Group</h2>

        
        <div class="body taskbody"><p class="shortdesc">To add nodes to a node group, you create rules that define which nodes should be
            included in the group.</p>

            <ol class="ol steps" id="task_vpk_mmh_rq__steps_yxj_1nh_rq"><li class="li step stepexpand">
                    <span class="ph cmd">On the **Classification** page, click to open the **web_app_servers** node
                        group.</span>
                </li>
<li class="li step stepexpand">
                    <span class="ph cmd">On the **Rules** tab, in the **Fact** field, type or select
                        "osfamily."</span>
                </li>
<li class="li step stepexpand">
                    <span class="ph cmd">On the **Operator** drop-down list, select **is**, and in the **Value**
                        field, type "RedHat" or "Windows" depending on the type of OS you're using
                        for your agent.</span>
                    <div class="itemgroup info">As you type in the rule, the number in the **Node matches** column changes
                        to indicate how many nodes this rule will affect. <img class="image" id="task_vpk_mmh_rq__image_nyg_gnh_rq"/></div>
                </li>
<li class="li step stepexpand">
                    <span class="ph cmd">Click **Add rule**, and then click the commit button.</span>
                </li>
</ol>

        </div>

    </div>

    <div class="topic task nested1" id="task_r3x_nmh_rq">
        <h2 class="title topictitle2">Add Classes to the Node Group</h2>

        
        <div class="body taskbody"><p class="shortdesc">Now that you've created a node group, you'll add classes to give the matching
            nodes purpose.</p>

            <ol class="ol steps" id="task_r3x_nmh_rq__steps_ywf_g4h_rq"><li class="li step">
                    <span class="ph cmd">On your **web_app_servers** page, click the **Classes** tab.</span>
                </li>
<li class="li step">
                    <span class="ph cmd">In the **Add new class** field, if you’re a *nix user, select `apache`. If
                        you’re a Windows user, select `registry`.</span>
                </li>
<li class="li step">
                    <span class="ph cmd">Click **Add class**.</span>
                </li>
<li class="li step">
                    <span class="ph cmd">In the **Parameter** box, click **Parameter name** and select a parameter
                        from the drop-down list, such as `apache_version`. Note that for many
                        parameters, the **Value** field is automatically populated.</span>
                </li>
<li class="li step">
                    <span class="ph cmd">Click **Add parameter**, and then click the commit button.</span>
                </li>
</ol>

            <div class="section result">You can check these changes by clicking **Nodes**, then clicking one of the
                nodes from your node group. In the **Classes** list, you'll see the `apache` class
                with the **Source group** `web_app_servers`.</div>

        </div>

    </div>

    <div class="topic task nested1" id="task_grn_4mh_rq">
        <h2 class="title topictitle2">Create a New User Role</h2>

        
        <div class="body taskbody"><p class="shortdesc">Add a user role so you can manage permissions for groups of users at
            once.</p>

            <ol class="ol steps" id="task_grn_4mh_rq__steps_ggs_m4h_rq"><li class="li step">
                    <span class="ph cmd">In the console, click **Access Control** and then click **User
                        Roles**.</span>
                </li>
<li class="li step">
                    <span class="ph cmd">For **Name**, type "Web developers," and then for **Description**, type a
                        description for the Web developers role, such as "web developers."</span>
                </li>
<li class="li step">
                    <span class="ph cmd">Click **Add role**.</span>
                </li>
</ol>

        </div>

    </div>

    <div class="topic task nested1" id="task_stm_pmh_rq">
        <h2 class="title topictitle2">Create a New User and Add the User to Your New Role</h2>

        
        <div class="body taskbody"><p class="shortdesc">These steps demonstrate how to create a new local user. See [Adding LDAP Users to
            PE](./rbac_user_roles.html#adding-ldap-users-to-pe) for information about adding
            existing users from your directory service.</p>

            <ol class="ol steps" id="task_stm_pmh_rq__steps_ivx_q4h_rq"><li class="li step stepexpand">
                    <span class="ph cmd">On the **Access Control** page, click **Users**.</span>
                </li>
<li class="li step stepexpand">
                    <span class="ph cmd">In the **Full name** field, type in a user name.</span>
                </li>
<li class="li step stepexpand">
                    <span class="ph cmd">In the **Login** field, type the user's login information.</span>
                </li>
<li class="li step stepexpand">
                    <span class="ph cmd">Click **Add local user**.</span>
                    <div class="itemgroup info"><strong class="ph b">Note</strong>: When you create new local users, you need to send them a
                        login token. Do this by clicking the new user's name in the **User** list
                        and then on the upper-right of the user's page, click **Generate password
                        reset**. A message opens with a link that you must copy and send to the new
                        user.</div>
                </li>
<li class="li step stepexpand">
                    <span class="ph cmd">Click **User Roles** and then click **Web developers**.</span>
                </li>
<li class="li step stepexpand">
                    <span class="ph cmd">On the **Member users** tab, on the **User name** list, select the new user
                        you created, and then click **Add user** and click the commit button.</span>
                </li>
</ol>

        </div>

    </div>


</body>
</html>