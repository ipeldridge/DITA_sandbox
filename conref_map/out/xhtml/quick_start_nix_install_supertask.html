<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Installing *nix Agents"/>
<meta name="abstract" content="The following instructions are for installing Puppet agents on nodes running *nix operating systems."/>
<meta name="description" content="The following instructions are for installing Puppet agents on nodes running *nix operating systems."/>
<meta name="DC.Relation" scheme="URI" content="quick_start_supertask.html"/>
<meta name="DC.Relation" scheme="URI" content="quick_start_install_nix_same_os.html"/>
<meta name="DC.Relation" scheme="URI" content="quick_start_install_nix_diff_os.html"/>
<meta name="DC.Relation" scheme="URI" content="quick_start_sign_cert.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="task_snk_w45_4q"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Installing *nix Agents</title>
</head>
<body id="task_snk_w45_4q">


    <h1 class="title topictitle1">Installing *nix Agents</h1>

    
    <div class="body taskbody"><p class="shortdesc">The following instructions are for installing Puppet agents on nodes running *nix
        operating systems. </p>

        <div class="section context">
            <p class="p">A computer running the PE agent is usually referred to as an <dfn class="term">agent node</dfn>.
                The Puppet agent regularly pulls configuration catalogs from a Puppet master server
                and applies them to the local system.</p>

            <p class="p">For more information about Puppet agents, as well as the components that make up your
                PE deployment, visit the <a class="xref" href="https://docs.puppetlabs.com/pe/latest/install_basic.html">installing PE
                    overview</a> in the PE docs.</p>

            <div class="note note"><span class="notetitle">Note:</span> If you don't have internet connectivity, refer to [Installing Agents in a Puppet
                Enterprise Infrastructure without Internet
                Access](./install_agents.html#installing-agents-in-a-puppet-enterprise-infrastructure-without-internet-access)
                to choose a method that is suitable for your needs.<p class="p">Refer to the <a class="xref" href="https://docs.puppetlabs.com/pe/latest/quick_start_install_agents_windows.html">Windows agent installation quick start guide</a> for
                    instructions on installing Puppet agents on nodes running supported versions of
                    the Windows OS.</p>
</div>

        </div>

    </div>

    <div class="related-links">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="quick_start_install_nix_same_os.html">Installing Agents with the Same OS and Architecture as the Puppet Master</a></strong><br/>
If your Puppet agent node is the same OS and architecture as the Puppet master, log         into your agent node and run the following command:</li>
<li class="link ulchildlink"><strong><a href="quick_start_install_nix_diff_os.html">Installing Agents with Different OS and Architecture than the Puppet Master</a></strong><br/>
If your Puppet master OS and architecture are different from the agent, follow this         example.</li>
<li class="link ulchildlink"><strong><a href="quick_start_sign_cert.html">Approving the Certificate Request</a></strong><br/>
</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="quick_start_supertask.html" title="Welcome to the Puppet Enterprise Quick Start Guide. Whether you’re setting up a PE installation for actual deployment or want to learn some fundamentals of configuration management with Puppet Enterprise, this series of guides provides the steps you need to get up and running relatively quickly. We’ll walk you through the setup of a monolithic (all-in-one node) installation and show you how to automate some basic tasks that sysadmins regularly perform.">Puppet Enterprise Quick Start Guide</a></div>
</div>
</div>
<div class="topic task nested1" id="task_hs3_5kf_vq">
    <h2 class="title topictitle2">Installing Agents with the Same OS and Architecture as the Puppet Master</h2>

    
    <div class="body taskbody"><p class="shortdesc">If your Puppet agent node is the same OS and architecture as the Puppet master, log
        into your agent node and run the following command:</p>

        <div class="section prereq p">
            <p class="p">This task assumes you've and have the Puppet master, the PE console, and PuppetDB up
                and running on one node. If you have not already done this, refer to the <a class="xref" href="quick_start_install_mono.html#task_xwm_nl4_4q" title="To get you started using Puppet Enterprise (PE) relatively quickly and efficiently, this guide walks you through the steps of a monolithic install. A monolithic deployment is best suited for users who want to evaluate PE, or for users managing a small number of puppet agent nodes (up to 500 nodes). For larger installations, you’ll need to perform a split install.">PE Install Quick Start Guide</a>.</p>

        </div>

        <div class="li step p">
                <span class="ph cmd"><samp class="ph codeph">curl -k
                        https://&lt;master.example.com&gt;:8140/packages/current/install.bash | sudo
                        bash</samp></span>
                <div class="itemgroup stepresult">
                    <p class="p">This script detects the OS on which the agent is running, sets up an apt,
                        yum, or zipper repo that refers back to the Puppet master, and then pulls
                        down and installs the `pe-agent` packages.</p>

                </div>
            </div>

        <div class="section postreq">
            <p class="p"><strong class="ph b">Important</strong>: After installation is complete, you need to approve your new agent
                node’s certificate request in the console. </p>

        </div>

    </div>

</div>

    <div class="topic task nested1" id="task_e2x_wkf_vq">
    <h2 class="title topictitle2">Installing Agents with Different OS and Architecture than the Puppet Master</h2>

    
    <div class="body taskbody"><p class="shortdesc">If your Puppet master OS and architecture are different from the agent, follow this
        example.</p>

        <div class="section prereq p">This task assumes you've  and have the Puppet master, the PE console, and PuppetDB
            up and running on one node. If you have not already done this, refer to the <a class="xref" href="quick_start_install_mono.html#task_xwm_nl4_4q" title="To get you started using Puppet Enterprise (PE) relatively quickly and efficiently, this guide walks you through the steps of a monolithic install. A monolithic deployment is best suited for users who want to evaluate PE, or for users managing a small number of puppet agent nodes (up to 500 nodes). For larger installations, you’ll need to perform a split install.">PE Install Quick Start Guide</a></div>

        <div class="section context">
            <p class="p">This example describes adding an agent node running Debian 6 on AMD64 hardware. You
                can select a different architecture for your agent if you prefer.</p>

            <p class="p">To install an agent with a different OS from the Puppet master, you first add the
                appropriate class for the repo that contains the agent packages, you classify the PE
                Master node group with that class, and then run a curl command from the agent to the
                master to retrieve the necessary packages to install the agent.</p>

        </div>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">From the console, click <strong class="ph b">Classification</strong> in the top navigation bar.<img class="image" id="task_e2x_wkf_vq__d141e37"/></span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">From the  <strong class="ph b">Classification</strong> page, click the <strong class="ph b">PE Master</strong> group.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click the <strong class="ph b">Classes</strong> tab.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">In the <strong class="ph b">Add new class</strong>field, in the <strong class="ph b">Class name</strong> box, begin typing
                        <span class="q">"pe_repo,"</span> and select the class
                        <samp class="ph codeph">pe_repo::platform::debian_6_amd64</samp>, or whichever class you
                    want, from the list of classes.<img class="image" id="task_e2x_wkf_vq__d141e77"/></span>
                <div class="itemgroup info"><strong class="ph b">Note: </strong>The repo classes are listed as
                        <samp class="ph codeph">pe_repo::platform::&lt;agent_os_version_architecture&gt;</samp>.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click <strong class="ph b">Add class</strong>.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click the <strong class="ph b">Commit changes</strong>button.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click <strong class="ph b">Live Management</strong>, and click <strong class="ph b">Control Puppet</strong>.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click <strong class="ph b">runonce</strong> and then click <strong class="ph b">Run</strong>. This configures the Puppet
                    master node using the newly-assigned class.</span>
                <div class="itemgroup stepresult">The new repo is created in <samp class="ph codeph">/opt/puppet/packages/public</samp>.
                    It’s called
                        <samp class="ph codeph">puppet-enterprise-3.7.0-&lt;os-version-architecture&gt;-agent</samp>.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">SSH into the Debian node where you want to install the agent, and run
                        <samp class="ph codeph">curl -k
                        https://&lt;master.example.com&gt;:8140/packages/current/install.bash | sudo
                        bash</samp>.</span>
                <div class="itemgroup info"><strong class="ph b">Note</strong>: <ul class="ul" id="task_e2x_wkf_vq__d141e152">
                        <li class="li">You can replace <samp class="ph codeph">current</samp> in the script with a specific
                            PE version number, in the form of  <samp class="ph codeph">3.x.x</samp>.</li>

                        <li class="li">Depending on your platform, the method for downloading the script may
                            vary.</li>

                    </ul>
</div>
                <div class="itemgroup stepresult">The installer installs and configures the Puppet Enterprise
                    agent.</div>
            </li>
</ol>

        <div class="section postreq">After installation is complete, you need to approve your new agent node’s
            certificate request in the console. </div>

    </div>

</div>

    <div class="topic task nested1" id="task_h4p_ykf_vq">
    <h2 class="title topictitle2">Approving the Certificate Request</h2>

    <div class="body taskbody">
        <div class="section context">
            <p class="p">During installation, the agent node contacts the Puppet master and requests a
                certificate. To add the node to the console and to start managing its configuration,
                you need to approve its request on the Puppet master. This is most easily done via
                the console, as follows.</p>

        </div>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">From the console, note the pending <span class="ph uicontrol">node requests</span>
                    indicator in the upper right corner. Click it to load a list of currently
                    pending node requests.<img class="image" id="task_h4p_ykf_vq__d150e27"/><img class="image" id="task_h4p_ykf_vq__d150e28" src="images/request_indicator.png"/></span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click the <span class="ph uicontrol">Accept All</span> button to approve all the requests
                    and add the nodes.</span>
                <div class="itemgroup stepresult">The Puppet agents can now retrieve configurations from the master the
                    next time Puppet runs.</div>
            </li>
</ol>

    </div>

</div>


</body>
</html>